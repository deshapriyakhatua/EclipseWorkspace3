<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Example</title>
	<script type="text/javascript"
		src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC5Jrp9PtHe0WapppUzxbIpMDWMAcV3qE4"></script>
	<script src="https://unpkg.com/location-picker/dist/location-picker.min.js"></script>
	<style type="text/css">
		#map {
			width: 100%;
			height: 480px;
		}

		input {
			display: block;
			margin: 5px auto;
			padding: 0;
			padding-left: 10px;
			width: 600px;
			height: 40px;
			box-sizing: border-box;
			font-size: 18px;
		}
	</style>
</head>

<body>
	<form action="registerUser" method="post">
		<input name="id" id="id" type="text" placeholder="id" />
		<input name="name" id="name" type="text" placeholder="Name" />
		<input name="address" id="address" type="text" placeholder="Address" />
		<input name="pin" id="pin" type="text" placeholder="Pin" />
		<input name="phone" id="phone" type="text" placeholder="Phone" />
		<input name="gender" id="gender" type="text" placeholder="Gender" />
		<input name="latitude" id="latitude" type="text" placeholder="Latitude" />
		<input name="longitude" id="longitude" type="text" placeholder="Longitude" />
		<input name="profession" id="profession" type="text" placeholder="Profession" />
		<input type="submit"/>
	</form>

	<div id="map"></div>
	<br>
	<button id="confirmPosition">Confirm Position</button>
	<br>
	<p>On idle position: <span id="onIdlePositionView"></span></p>
	<p>On click position: <span id="onClickPositionView"></span></p>
	<script>
		// Get element references
		var confirmBtn = document.getElementById('confirmPosition');
		var onClickPositionView = document.getElementById('onClickPositionView');
		var onIdlePositionView = document.getElementById('onIdlePositionView');
		var map = document.getElementById('map');

		// Initialize LocationPicker plugin
		var lp = new locationPicker(map, {
			setCurrentPosition: true, // You can omit this, defaults to true
			lat: 21.940570,
			lng: 87.347965
		}, {
			zoom: 15 // You can set any google map options here, zoom defaults to 15
		});

		// Listen to button onclick event
		confirmBtn.onclick = function () {
			// Get current location and show it in HTML
			var location = lp.getMarkerPosition();
			onClickPositionView.innerHTML = 'The chosen location is ' + location.lat + ',' + location.lng;
			document.getElementById("latitude").value = location.lat;
			document.getElementById("longitude").value = location.lng;
			
		};

		// Listen to map idle event, listening to idle event more accurate than listening to ondrag event
		google.maps.event.addListener(lp.map, 'idle', function (event) {
			// Get current location and show it in HTML
			var location = lp.getMarkerPosition();
			onIdlePositionView.innerHTML = 'The chosen location is ' + location.lat + ',' + location.lng;
		});
	</script>

</body>

</html>